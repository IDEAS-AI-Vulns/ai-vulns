import { Component, Input, OnInit } from '@angular/core';
import {
  ColComponent,
  RowComponent,
  WidgetStatFComponent
} from '@coreui/angular';
import { IconDirective } from '@coreui/icons-angular';
import { NgIf } from '@angular/common';

@Component({
  selector: 'app-cloud-vulnerability-summary',
  standalone: true,
  imports: [
    RowComponent,
    ColComponent,
    WidgetStatFComponent,
    IconDirective,
    NgIf
  ],
  templateUrl: './cloud-vulnerability-summary.component.html',
  styleUrls: ['./cloud-vulnerability-summary.component.scss']
})
export class CloudVulnerabilitySummaryComponent implements OnInit {
  @Input() counts: any = {
    critical: 0,
    high: 0,
    rest: 0
  };

  ngOnInit(): void {
    // Ensure counts object has all required properties
    this.counts = {
      critical: this.counts?.critical || 0,
      high: this.counts?.high || 0,
      rest: this.counts?.rest || 0
    };
  }
}